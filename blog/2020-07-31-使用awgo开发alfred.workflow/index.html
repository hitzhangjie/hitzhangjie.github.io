<!DOCTYPE html>
<html lang="zh-cn">
    <head>
        
        <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="chrome=1">
<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="referrer" content="no-referrer">
<meta name="description" content="Webç«™ç‚¹æè¿°">
<title>
ä½¿ç”¨awgoå¼€å‘alfred.workflow - ä»‹ç»
</title>




<script type="text/javascript" src="https://platform-api.sharethis.com/js/sharethis.js#property=5f24f50fc2418c0012d52ac3&product=inline-share-buttons" async="async">
</script>

<style>
 
[alt~=sharing] {
    border: 0px;
    box-shadow: none;
}
div#st-1 {
    text-align: unset;
}

 
div#st-1 .st-btn {
    height: 24px;
    padding: 0 4px;
}

div#st-1 .st-btn > img {
    top: 4.2px;
}

div#st-2 .st-btn {
    height: 24px;
    padding: 0 4px;
}

div#st-2 .st-btn > img {
    top: 4.2px;
}
</style>







        
        <meta property="og:title" content="ä½¿ç”¨awgoå¼€å‘alfred.workflow - ä»‹ç»" />
<meta property="og:type" content="website" />
<meta property="og:description" content="Webç«™ç‚¹æè¿°"/>
<meta property="og:url" content="https://www.hitzhangjie.pro/blog/2020-07-31-%E4%BD%BF%E7%94%A8awgo%E5%BC%80%E5%8F%91alfred.workflow/"/>
<meta property="og:site_name" content="ä»‹ç»"/>




<meta property="og:image" content="https://www.hitzhangjie.pro/home/me.jpg"/>

<meta property="og:image" content="https://www.hitzhangjie.pro/home/profile.jpg"/>




        
<link rel="shortcut icon" href="/img/fav.ico">


        





<link rel="stylesheet" href="/css/main.min.24b21e0909abaf0ad62af509780fea401864367fe10c0d7ffcd89778c9dac466.css" integrity="sha256-JLIeCQmrrwrWKvUJeA/qQBhkNn/hDA1//NiXeMnaxGY=" crossorigin="anonymous" media="screen">




    <link rel="stylesheet" href="/custom.css" integrity="" crossorigin="anonymous" media="screen">

        
        
        
        
    </head>
    <body>
        <section id="top" class="section">
            
            <div class="container hero  fade-in one ">
                

    <h1 class="bold-title is-1">åšå®¢</h1>


            </div>
            
            <div class="section  fade-in two ">
                
<div class="container">
    <hr>
    <nav class="navbar" role="navigation" aria-label="main navigation">
        
        <a role="button" class="navbar-burger" data-target="navMenu" aria-label="menu" aria-expanded="false" >
          <span aria-hidden="true"></span>
          <span aria-hidden="true"></span>
          <span aria-hidden="true"></span>
        </a>
        <div class="navbar-menu " id="navMenu">
            
            
            
            
            <a class="navbar-item" href="/">ä¸»é¡µ</a>
            

            
            

            
                
            

            
                
            

            
            
            
            
            
                
                
                
                
                  <a class="navbar-item" href="https://www.hitzhangjie.pro/projects/">
                  
                  
                  é¡¹ç›®
                  
                  
                  </a>
                
                
            
            
            
            
            
                
                
                
                
                  <a class="navbar-item" href="https://www.hitzhangjie.pro/blog/">
                  
                  è¿”å› åšå®¢
                  
                  </a>
                
                
            
            
            
            
            
            <a class="navbar-item" href="/#about">å…³äº</a>
            
            
            
            
            
            <a class="navbar-item" href="/#thanks">è‡´è°¢</a>
            
            
            
            

            
            
            <a class="navbar-item" href="/#contact">è”ç³»æ–¹å¼</a>
            
            

            
            
            
            
            <a class="navbar-item" href="https://www.hitzhangjie.pro/en/">English</a>
            
            

            
            
        </div>
    </nav>
    <hr>
</div>



                
    <div class="container">

        <h2 class="title is-1 top-pad strong-post-title">
            <a href="https://www.hitzhangjie.pro/blog/2020-07-31-%E4%BD%BF%E7%94%A8awgo%E5%BC%80%E5%8F%91alfred.workflow/">ä½¿ç”¨awgoå¼€å‘alfred.workflow</a>
        </h2>
        <div class="post-data">
            å‘è¡¨æ—¶é—´ï¼š2020-07-31 <br> 
            é˜…è¯»æ—¶é•¿ï¼š5 åˆ†é’Ÿ (2328å­—)
        </div>

        
        <div>
            <div>
            
            
            <p>
                æ ‡ç­¾ï¼š
                
                <a href="/tags/go">go</a>,
                
                <a href="/tags/awgo">awgo</a>,
                
                <a href="/tags/alfred">alfred</a>,
                
                <a href="/tags/workflow">workflow</a>
                
            </p>
            
            </div>

            <div>
            <br>
            


<div style="display:flex;">
    <div>åˆ†äº«ï¼š</div>
    <div>
        <div class="sharethis-inline-share-buttons"></div>
    </div>
</div>


            </div>

        </div>

        
        

        
        <div> 
            
<aside>
    <hr/>
    <header>
    <b>ã€Šä½¿ç”¨awgoå¼€å‘alfred.workflowã€‹ç›®å½•ï¼š</b>
    <br/>
    </header>
    <nav id="TableOfContents">
  <ul>
    <li><a href="#æœ¬æ–‡ç®€ä»‹">æœ¬æ–‡ç®€ä»‹</a></li>
    <li><a href="#å¦‚ä½•å®‰è£…">å¦‚ä½•å®‰è£…ï¼Ÿ</a></li>
    <li><a href="#å¦‚ä½•ä½¿ç”¨">å¦‚ä½•ä½¿ç”¨ï¼Ÿ</a></li>
    <li><a href="#å¦‚ä½•å®ç°">å¦‚ä½•å®ç°ï¼Ÿ</a>
      <ul>
        <li><a href="#æµç¨‹å›¾æ¢³ç†ä¸‹é€»è¾‘">æµç¨‹å›¾æ¢³ç†ä¸‹é€»è¾‘</a></li>
        <li><a href="#alfredworkflowç¼–æ’">alfred.workflowç¼–æ’</a></li>
        <li><a href="#alfredworkflowæ—¶é—´è½¬æ¢ç¨‹åº">alfred.workflowæ—¶é—´è½¬æ¢ç¨‹åº</a></li>
        <li><a href="#å®ç°æ—¶é—´è½¬æ¢é€»è¾‘">å®ç°æ—¶é—´è½¬æ¢é€»è¾‘</a></li>
        <li><a href="#å¯¼å‡ºalfredworkflow">å¯¼å‡ºalfred.workflow</a></li>
      </ul>
    </li>
    <li><a href="#awgoè¯•ç”¨å°ç»“">awgoè¯•ç”¨å°ç»“</a></li>
  </ul>
</nav>
    <hr/>
</aside>


        </div>
   
        
        <div class="container markdown top-pad">
            
<h1 id="æœ¬æ–‡ç®€ä»‹" class="anchor-link"><a href="#%e6%9c%ac%e6%96%87%e7%ae%80%e4%bb%8b">æœ¬æ–‡ç®€ä»‹</a></h1>
<p>è¯¥workflowä¸»è¦æ˜¯ä¸ºäº†å¯¹ &ldquo;æ—¶é—´æˆ³&rdquo; &amp;&amp; &ldquo;æ ¼å¼åŒ–æ—¥æœŸ+æ—¶é—´å­—ç¬¦ä¸²&rdquo; è¿›è¡Œå¿«é€Ÿè½¬æ¢ï¼Œæ–¹ä¾¿ä½¿ç”¨ã€‚</p>
<p>å¼€å‘äººå‘˜ï¼Œç»å¸¸ä¼šæ¶‰åŠåˆ°æ—¶é—´ç›¸å…³çš„è½¬æ¢æ“ä½œï¼Œæœ‰ä¸ªè¶æ‰‹çš„å·¥å…·è¿˜æ˜¯å¾ˆæœ‰å¿…è¦çš„ã€‚</p>
<p>æˆ‘å¹³æ—¶ä½¿ç”¨alfredæ¯”è¾ƒå¤šï¼Œè‡ªç„¶å°±æƒ³é€šè¿‡workflowçš„æ–¹å¼æ¥å®ç°ï¼Œå½“ç„¶ç”¨hammerspoonã€petç­‰å…¶ä»–å·¥å…·ä¹Ÿå¯ä»¥ã€‚</p>
<p>alfred workflowå’Œalfredæœ¬èº«çš„äº¤äº’æ˜¯é€šè¿‡ç®¡é“æ–¹å¼è¿›è¡Œè¿æ¥çš„ï¼š</p>
<ul>
<li>alfredå°†ç”¨æˆ·è¾“å…¥çš„ä¿¡æ¯è½¬å‘ç»™åŒ¹é…çš„workflowï¼›</li>
<li>workflowå¯¹æ¥æ”¶åˆ°çš„å‚æ•°è¿›è¡Œå¤„ç†ï¼Œå¹¶å°†å¤„ç†çš„ç»“æœæŒ‰ç…§æŒ‡å®šæ ¼å¼è¾“å‡ºåˆ°stdoutï¼›</li>
<li>alfredè¯»å–stdoutä¸­çš„æ•°æ®ä½œä¸ºå“åº”å±•ç¤ºåˆ°ç”¨æˆ·ç•Œé¢ï¼›</li>
</ul>
<p>è¿™é‡Œä¸»è¦ä½¿ç”¨äº†awgoæ¥ç¼–å†™workflowï¼Œå®ç°é€»è¾‘å¯ä»¥å‚è€ƒä¸‹ä»£ç ï¼Œé€»è¾‘å¾ˆç®€å•ã€‚ä¸‹é¢ä¸»è¦ä»‹ç»ä¸‹å¦‚ä½•ä½¿ç”¨ã€‚</p>

<h1 id="å¦‚ä½•å®‰è£…" class="anchor-link"><a href="#%e5%a6%82%e4%bd%95%e5%ae%89%e8%a3%85">å¦‚ä½•å®‰è£…ï¼Ÿ</a></h1>
<p>ä¸‹è½½é¡¹ç›®ä¸‹ <a href="https://raw.githubusercontent.com/hitzhangjie/alfred-datetime-workflow/master/workflow/Date%20Formats%20Go.alfredworkflow">workflow/Date Formats Go.alfredworkflow</a>ï¼ŒåŒå‡»å³å¯å®‰è£…ã€‚</p>

<h1 id="å¦‚ä½•ä½¿ç”¨" class="anchor-link"><a href="#%e5%a6%82%e4%bd%95%e4%bd%bf%e7%94%a8">å¦‚ä½•ä½¿ç”¨ï¼Ÿ</a></h1>
<ol>
<li>
<p>è¿è¡Œ <code>datex</code> å”¤èµ·workflow<br>
<img src="/blog/assets/alfred/1.jpg" alt="è¿è¡Œdatexæ¢èµ·workflow"></p>
</li>
<li>
<p>å¸¸ç”¨è½¬æ¢æ“ä½œ: è·å–å½“å‰æ—¶é—´å¯¹åº”çš„Unixæ—¶é—´æˆ³ï¼Œä»¥åŠæ ¼å¼åŒ–å­—ç¬¦ä¸²<br>
<code>datex now</code>ï¼Œå°†å½“å‰æ—¶é—´è½¬æ¢ä¸ºæ—¶é—´æˆ³ä»¥åŠæ ¼å¼åŒ–åçš„å­—ç¬¦ä¸²(å¤šç§æ—¥æœŸæ ¼å¼)ã€‚<br>
å¯ä»¥ç”¨ä¸Šä¸‹é”®ç§»åŠ¨è¿›è¡Œé€‰æ‹©ï¼Œå½“æŒ‰ä¸‹å›è½¦é”®æ—¶ï¼Œä¼šå°†å¯¹åº”çš„ç»“æœæ‹·è´åˆ°å‰ªè´´æ¿ï¼Œæ–¹ä¾¿ç²˜è´´ä½¿ç”¨ã€‚
<img src="/blog/assets/alfred/2.jpg" alt="è·å–å½“å‰æ—¶é—´"></p>
</li>
<li>
<p>å¸¸ç”¨è½¬æ¢æ“ä½œ: å°†æ—¶é—´æˆ³è½¬æ¢ä¸ºå¯¹åº”çš„æ ¼å¼åŒ–å­—ç¬¦ä¸²<br>
ä»¥æ—¶é—´æˆ³1596137272ä¸ºä¾‹ï¼Œ<code>datex 1596137272</code>ï¼Œæ­¤æ—¶ä¼šå°†æ—¶é—´æˆ³è½¬æ¢ä¸ºæ ¼å¼åŒ–åçš„å­—ç¬¦ä¸²ã€‚<br>
é€‰æ‹©ã€å¤åˆ¶æ•°æ®æ“ä½œç±»ä¼¼ã€‚
<img src="/blog/assets/alfred/3.jpg" alt="è½¬æ¢æ—¶é—´æˆ³"></p>
</li>
<li>
<p>å¸¸ç”¨è½¬æ¢æ“ä½œ: å°†æ ¼å¼åŒ–å­—ç¬¦ä¸²è½¬æ¢ä¸ºæ—¶é—´æˆ³ï¼Œæˆ–å…¶ä»–æ ¼å¼<br>
ä»¥å­—ç¬¦ä¸²<code>2020-07-30</code>ä¸ºä¾‹ï¼Œ<code>datex 2020-07-30</code>ï¼Œæ­¤æ—¶ä¼šå…ˆå°†å…¶ä¸å€™é€‰çš„æ ¼å¼åŒ–å­—ç¬¦ä¸²è¿›è¡ŒåŒ¹é…ã€‚<br>
å¹¶è½¬æ¢æˆä¸€ä¸ªæœ‰æ•ˆçš„æ—¶é—´æˆ³ã€‚ ç„¶åå†æ ¹æ®æ­¤æ—¶é—´æˆ³ï¼Œè½¬æ¢ä¸ºå…¶ä»–æ ¼å¼å¯¹åº”çš„å­—ç¬¦ä¸²ã€‚é€‰æ‹©ã€å¤åˆ¶æ•°æ®æ“ä½œç±»ä¼¼ã€‚
<img src="/blog/assets/alfred/4.jpg" alt="è½¬æ¢å­—ç¬¦ä¸²"></p>
</li>
</ol>
<p>è¿™å¤§è‡´å°±æ˜¯è¯¥workflowçš„ä½¿ç”¨æ–¹å¼ã€‚</p>
<p>å…³äºæ—¥æœŸæ—¶é—´æ ¼å¼è½¬æ¢çš„workflowï¼Œgithubä¸Šå·²ç»æœ‰å‡ ä¸ªæ¯”è¾ƒå¥½çš„å®ç°äº†ï¼Œè½®å­ä¸å¥½ç”¨å°±å¾—è‡ªå·±é€ ã€‚</p>
<ul>
<li>å®ç°å¯¹timezoneæ”¯æŒä¸å¥½;</li>
<li>é‡‡ç”¨çš„æ—¶é—´æ ¼å¼ä¸ç¬¦åˆå›½äººä¹ æƒ¯;</li>
<li>æŒæ¡awgoå¼€å‘alfred workflowä»¥åå¯ä»¥å†™æ›´å¤šæ•ˆç‡å·¥å…·;</li>
</ul>
<p>å¸Œæœ›è¿™ä¸ªå°å·¥å…·èƒ½å¸®åŠ©åˆ°æœ‰éœ€è¦çš„åŒå­¦ï¼Œä¹Ÿç»™å‡†å¤‡å¼€å‘alfred workflowæˆ–ä½¿ç”¨awgoå¼€å‘workflowçš„åŒå­¦æä¾›ä¸€ä¸ªç¤ºä¾‹ã€‚</p>

<h1 id="å¦‚ä½•å®ç°" class="anchor-link"><a href="#%e5%a6%82%e4%bd%95%e5%ae%9e%e7%8e%b0">å¦‚ä½•å®ç°ï¼Ÿ</a></h1>

<h2 id="æµç¨‹å›¾æ¢³ç†ä¸‹é€»è¾‘" class="anchor-link"><a href="#%e6%b5%81%e7%a8%8b%e5%9b%be%e6%a2%b3%e7%90%86%e4%b8%8b%e9%80%bb%e8%be%91">æµç¨‹å›¾æ¢³ç†ä¸‹é€»è¾‘</a></h2>
<p>å…ˆç”»ä¸ªæµç¨‹å›¾ï¼Œç®€å•ç†ä¸‹æ€è·¯ï¼Œæ€è·¯ç†æ¸…æ¥šäº†ï¼Œå†™ä»£ç å°±å¿«äº†ã€‚</p>
<p><img src="/blog/assets/alfred/0.png" alt="æµç¨‹å›¾"></p>

<h2 id="alfredworkflowç¼–æ’" class="anchor-link"><a href="#alfredworkflow%e7%bc%96%e6%8e%92">alfred.workflowç¼–æ’</a></h2>
<p>å¥½ï¼Œç†æ¸…æ¥šæ€è·¯ä¹‹åï¼Œæˆ‘ä»¬å¼€å§‹å°è¯•å¯¹worklowè¿›è¡Œç¼–æ’ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<p><img src="/blog/assets/alfred/5.jpg" alt="workflowç¼–æ’"></p>
<p>workflowä¸­åŒ…å«2ä¸ªèŠ‚ç‚¹ï¼š</p>
<ul>
<li>
<p>èŠ‚ç‚¹1ï¼Œæ˜¯ä¸€ä¸ªscript filterï¼Œæˆ‘ä»¬å¯ä»¥é…ç½®ä¸€ä¸ªå…³é”®å­—datexæ¥æ¿€æ´»å®ƒï¼Œå½“ç„¶è¿˜å¯ä»¥ç»§ç»­è¾“å…¥å‚æ•°ã€‚æ¿€æ´»è¯¥script filterä¹‹åï¼Œå®ƒå°†è°ƒç”¨æˆ‘ä»¬ç¼–å†™çš„æ—¶é—´è½¬æ¢ç¨‹åºalfred-datetime-workflowï¼Œç¨‹åºè¿”å›çš„ç»“æœå°†åœ¨alfredç•Œé¢ä¸Šè¿›è¡Œå±•ç¤ºï¼Œå±•ç¤ºçš„æ ·å¼æ˜¯åˆ—è¡¨ã€‚å¦‚æˆ‘ä»¬è¾“å…¥datex nowï¼Œå°†æ˜¾ç¤ºç°åœ¨çš„æ—¶é—´æˆ³ä»¥åŠå…¶ä»–æ ¼å¼çš„datetimeå­—ç¬¦ä¸²ã€‚   <br>
<img src="/blog/assets/alfred/8.jpg" alt="script filteré…ç½®"></p>
</li>
<li>
<p>èŠ‚ç‚¹2ï¼Œæ˜¯Copy to Clipboardï¼Œå®ƒå¹²ä»€ä¹ˆå‘¢ï¼ŸèŠ‚ç‚¹1ä¸­æ˜¾ç¤ºäº†åˆ—è¡¨ä¹‹åï¼Œç”¨æˆ·é€‰æ‹©ä¸€ä¸ªåˆ—è¡¨é¡¹+å›è½¦ä¹‹åï¼Œé€‰ä¸­çš„åˆ—è¡¨é¡¹å¯¹åº”çš„å‚æ•°å€¼å°†è¢«ä¼ é€’ç»™è¯¥èŠ‚ç‚¹ä½œä¸ºå‚æ•°ï¼ŒCopy to Clipboardå°±æ˜¯å°†å‚æ•°æ‹·è´åˆ°å‰ªè´´æ¿ï¼›</p>
</li>
</ul>
<blockquote>
<p>å¦‚æœå¸Œæœ›åœ¨workflowå„èŠ‚ç‚¹ä¸­ä¼ é€’å‚æ•°ï¼Œåˆ™å¯ä»¥é€šè¿‡ <code>workflow.Var(envname, value)</code> æ¥è®¾ç½®å˜é‡ï¼Œé€šè¿‡ <code>workflow.Config.Get${Type}(envname)</code> æ¥è·å–å˜é‡ã€‚</p>
</blockquote>
<p>å¥½çš„ï¼Œä¸‹é¢æ¥çœ‹ä¸‹è¿™é‡Œçš„æ—¶é—´è½¬æ¢ç¨‹åºæ€ä¹ˆå†™ï¼Œæ€ä¹ˆä¸alfredè¡”æ¥èµ·æ¥ã€‚</p>

<h2 id="alfredworkflowæ—¶é—´è½¬æ¢ç¨‹åº" class="anchor-link"><a href="#alfredworkflow%e6%97%b6%e9%97%b4%e8%bd%ac%e6%8d%a2%e7%a8%8b%e5%ba%8f">alfred.workflowæ—¶é—´è½¬æ¢ç¨‹åº</a></h2>
<p>è¿™é‡Œçš„æ—¶é—´è½¬æ¢ç¨‹åºï¼Œå¯ä»¥æ˜¯ä»»æ„è¯­è¨€ç¼–å†™æ„å»ºçš„äºŒè¿›åˆ¶ç¨‹åºï¼Œä¹Ÿå¯ä»¥æ˜¯shellè„šæœ¬ï¼Œéƒ½å¯ä»¥ï¼Œåªè¦èƒ½è§£æalfredä¼ é€’çš„è¾“å…¥å‚æ•°ã€è¿”å›alfredæŒ‡å®šæ ¼å¼çš„ç»“æœå°±å¯ä»¥ã€‚awgoè¿™ä¸ªåº“ç®€åŒ–äº†å’Œalfredäº¤äº’çš„éƒ¨åˆ†ï¼Œæˆ‘ä»¬ç”¨è¿™ä¸ªåº“ä¸»è¦æ˜¯ç®€åŒ–å’Œalfredæ•°æ®æ ¼å¼çš„è¡”æ¥ã€‚</p>
<p>ä¸»ä½“é€»è¾‘å¾ˆç®€å•ï¼Œå®ä¾‹åŒ–awgo.Workflowï¼Œç„¶åæ³¨å†Œå›è°ƒå‡½æ•°ï¼Œç­‰å¾…ç”¨æˆ·è¾“å…¥åå”¤é†’æ‰§è¡Œã€‚è¿™é‡Œçš„å›è°ƒå‡½æ•°ï¼Œå°±æ˜¯è¿™é‡Œçš„runæ–¹æ³•ï¼Œåœ¨è¯¥æ–¹æ³•å†…éƒ¨å®Œæˆæ—¶é—´çš„è½¬æ¢é€»è¾‘å³å¯ã€‚</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go"><span style="color:#f92672">package</span> <span style="color:#a6e22e">main</span>

<span style="color:#f92672">import</span> (
	<span style="color:#a6e22e">aw</span> <span style="color:#e6db74">&#34;github.com/deanishe/awgo&#34;</span>
)

<span style="color:#66d9ef">func</span> <span style="color:#a6e22e">main</span>() {
	<span style="color:#a6e22e">workflow</span> = <span style="color:#a6e22e">aw</span>.<span style="color:#a6e22e">New</span>()
	<span style="color:#a6e22e">workflow</span>.<span style="color:#a6e22e">Run</span>(<span style="color:#a6e22e">run</span>)
}
</code></pre></div>
<h2 id="å®ç°æ—¶é—´è½¬æ¢é€»è¾‘" class="anchor-link"><a href="#%e5%ae%9e%e7%8e%b0%e6%97%b6%e9%97%b4%e8%bd%ac%e6%8d%a2%e9%80%bb%e8%be%91">å®ç°æ—¶é—´è½¬æ¢é€»è¾‘</a></h2>
<p>å‰é¢æˆ‘ä»¬ç»™å‡ºçš„æµç¨‹å›¾ï¼Œå¤§éƒ¨åˆ†æ˜¯runæ–¹æ³•çš„é€»è¾‘ï¼Œç…§ç€æµç¨‹å›¾æ¥å†™ä»£ç é€»è¾‘ï¼ŒåŸºæœ¬ä¸Šä¸€éå®Œæˆã€‚so easy!</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go"><span style="color:#f92672">package</span> <span style="color:#a6e22e">main</span>

<span style="color:#f92672">import</span> (
	<span style="color:#f92672">...</span>
	<span style="color:#a6e22e">aw</span> <span style="color:#e6db74">&#34;github.com/deanishe/awgo&#34;</span>
)

<span style="color:#66d9ef">var</span> (
	<span style="color:#a6e22e">workflow</span> <span style="color:#f92672">*</span><span style="color:#a6e22e">aw</span>.<span style="color:#a6e22e">Workflow</span>

	<span style="color:#a6e22e">icon</span> = <span style="color:#f92672">&amp;</span><span style="color:#a6e22e">aw</span>.<span style="color:#a6e22e">Icon</span>{
		<span style="color:#a6e22e">Value</span>: <span style="color:#a6e22e">aw</span>.<span style="color:#a6e22e">IconClock</span>.<span style="color:#a6e22e">Value</span>,
		<span style="color:#a6e22e">Type</span>:  <span style="color:#a6e22e">aw</span>.<span style="color:#a6e22e">IconClock</span>.<span style="color:#a6e22e">Type</span>,
	}

	<span style="color:#a6e22e">layouts</span> = []<span style="color:#66d9ef">string</span>{
		<span style="color:#e6db74">&#34;2006-01-02 15:04:05.999 MST&#34;</span>,
		<span style="color:#e6db74">&#34;2006-01-02 15:04:05.999 -0700&#34;</span>,
		<span style="color:#a6e22e">time</span>.<span style="color:#a6e22e">RFC3339</span>,
		<span style="color:#a6e22e">time</span>.<span style="color:#a6e22e">RFC3339Nano</span>,
		<span style="color:#a6e22e">time</span>.<span style="color:#a6e22e">UnixDate</span>,
		<span style="color:#a6e22e">time</span>.<span style="color:#a6e22e">RubyDate</span>,
		<span style="color:#a6e22e">time</span>.<span style="color:#a6e22e">RFC1123Z</span>,
	}

	<span style="color:#a6e22e">moreLayouts</span> = []<span style="color:#66d9ef">string</span>{
		<span style="color:#e6db74">&#34;2006-01-02&#34;</span>,
		<span style="color:#e6db74">&#34;2006-01-02 15:04&#34;</span>,
		<span style="color:#e6db74">&#34;2006-01-02 15:04:05&#34;</span>,
		<span style="color:#e6db74">&#34;2006-01-02 15:04:05.999&#34;</span>,
	}

	<span style="color:#a6e22e">regexpTimestamp</span> = <span style="color:#a6e22e">regexp</span>.<span style="color:#a6e22e">MustCompile</span>(<span style="color:#e6db74">`^[1-9]{1}\d+$`</span>)
)

<span style="color:#66d9ef">func</span> <span style="color:#a6e22e">run</span>() {

	<span style="color:#66d9ef">var</span> <span style="color:#a6e22e">err</span> <span style="color:#66d9ef">error</span>

	<span style="color:#a6e22e">args</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">workflow</span>.<span style="color:#a6e22e">Args</span>()

	<span style="color:#66d9ef">if</span> len(<span style="color:#a6e22e">args</span>) <span style="color:#f92672">==</span> <span style="color:#ae81ff">0</span> {
		<span style="color:#66d9ef">return</span>
	}

	<span style="color:#66d9ef">defer</span> <span style="color:#66d9ef">func</span>() {
		<span style="color:#66d9ef">if</span> <span style="color:#a6e22e">err</span> <span style="color:#f92672">==</span> <span style="color:#66d9ef">nil</span> {
			<span style="color:#a6e22e">workflow</span>.<span style="color:#a6e22e">SendFeedback</span>()
			<span style="color:#66d9ef">return</span>
		}
	}()

	<span style="color:#75715e">// å¤„ç† now
</span><span style="color:#75715e"></span>	<span style="color:#a6e22e">input</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">strings</span>.<span style="color:#a6e22e">Join</span>(<span style="color:#a6e22e">args</span>, <span style="color:#e6db74">&#34; &#34;</span>)
	<span style="color:#66d9ef">if</span> <span style="color:#a6e22e">input</span> <span style="color:#f92672">==</span> <span style="color:#e6db74">&#34;now&#34;</span> {
		<span style="color:#a6e22e">processNow</span>()
		<span style="color:#66d9ef">return</span>
	}

	<span style="color:#75715e">// å¤„ç†æ—¶é—´æˆ³
</span><span style="color:#75715e"></span>	<span style="color:#66d9ef">if</span> <span style="color:#a6e22e">regexpTimestamp</span>.<span style="color:#a6e22e">MatchString</span>(<span style="color:#a6e22e">input</span>) {
		<span style="color:#a6e22e">v</span>, <span style="color:#a6e22e">e</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">strconv</span>.<span style="color:#a6e22e">ParseInt</span>(<span style="color:#a6e22e">args</span>[<span style="color:#ae81ff">0</span>], <span style="color:#ae81ff">10</span>, <span style="color:#ae81ff">32</span>)
		<span style="color:#66d9ef">if</span> <span style="color:#a6e22e">e</span> <span style="color:#f92672">==</span> <span style="color:#66d9ef">nil</span> {
			<span style="color:#a6e22e">processTimestamp</span>(<span style="color:#a6e22e">time</span>.<span style="color:#a6e22e">Unix</span>(<span style="color:#a6e22e">v</span>, <span style="color:#ae81ff">0</span>))
			<span style="color:#66d9ef">return</span>
		}
		<span style="color:#a6e22e">err</span> = <span style="color:#a6e22e">e</span>
		<span style="color:#66d9ef">return</span>
	}

	<span style="color:#75715e">// å¤„ç†æ—¶é—´å­—ç¬¦ä¸²
</span><span style="color:#75715e"></span>	<span style="color:#a6e22e">err</span> = <span style="color:#a6e22e">processTimeStr</span>(<span style="color:#a6e22e">input</span>)
}

<span style="color:#66d9ef">func</span> <span style="color:#a6e22e">processNow</span>() {

	<span style="color:#a6e22e">now</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">time</span>.<span style="color:#a6e22e">Now</span>()

	<span style="color:#75715e">// prepend unix timestamp
</span><span style="color:#75715e"></span>	<span style="color:#a6e22e">secs</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Sprintf</span>(<span style="color:#e6db74">&#34;%d&#34;</span>, <span style="color:#a6e22e">now</span>.<span style="color:#a6e22e">Unix</span>())
	<span style="color:#a6e22e">workflow</span>.<span style="color:#a6e22e">NewItem</span>(<span style="color:#a6e22e">secs</span>).
		<span style="color:#a6e22e">Subtitle</span>(<span style="color:#e6db74">&#34;unix timestamp&#34;</span>).
		<span style="color:#a6e22e">Icon</span>(<span style="color:#a6e22e">icon</span>).
		<span style="color:#a6e22e">Arg</span>(<span style="color:#a6e22e">secs</span>).
		<span style="color:#a6e22e">Valid</span>(<span style="color:#66d9ef">true</span>)

	<span style="color:#75715e">// process all time layouts
</span><span style="color:#75715e"></span>	<span style="color:#a6e22e">processTimestamp</span>(<span style="color:#a6e22e">now</span>)
}

<span style="color:#75715e">// process all time layouts
</span><span style="color:#75715e"></span><span style="color:#66d9ef">func</span> <span style="color:#a6e22e">processTimestamp</span>(<span style="color:#a6e22e">timestamp</span> <span style="color:#a6e22e">time</span>.<span style="color:#a6e22e">Time</span>) {
	<span style="color:#66d9ef">for</span> <span style="color:#a6e22e">_</span>, <span style="color:#a6e22e">layout</span> <span style="color:#f92672">:=</span> <span style="color:#66d9ef">range</span> <span style="color:#a6e22e">layouts</span> {
		<span style="color:#a6e22e">v</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">timestamp</span>.<span style="color:#a6e22e">Format</span>(<span style="color:#a6e22e">layout</span>)
		<span style="color:#a6e22e">workflow</span>.<span style="color:#a6e22e">NewItem</span>(<span style="color:#a6e22e">v</span>).
			<span style="color:#a6e22e">Subtitle</span>(<span style="color:#a6e22e">layout</span>).
			<span style="color:#a6e22e">Icon</span>(<span style="color:#a6e22e">icon</span>).
			<span style="color:#a6e22e">Arg</span>(<span style="color:#a6e22e">v</span>).
			<span style="color:#a6e22e">Valid</span>(<span style="color:#66d9ef">true</span>)
	}
}

<span style="color:#66d9ef">func</span> <span style="color:#a6e22e">processTimeStr</span>(<span style="color:#a6e22e">timestr</span> <span style="color:#66d9ef">string</span>) <span style="color:#66d9ef">error</span> {

	<span style="color:#a6e22e">timestamp</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">time</span>.<span style="color:#a6e22e">Time</span>{}
	<span style="color:#a6e22e">layoutMatch</span> <span style="color:#f92672">:=</span> <span style="color:#e6db74">&#34;&#34;</span>

	<span style="color:#a6e22e">layoutMatch</span>, <span style="color:#a6e22e">timestamp</span>, <span style="color:#a6e22e">ok</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">matchedLayout</span>(<span style="color:#a6e22e">layouts</span>, <span style="color:#a6e22e">timestr</span>)
	<span style="color:#66d9ef">if</span> !<span style="color:#a6e22e">ok</span> {
		<span style="color:#a6e22e">layoutMatch</span>, <span style="color:#a6e22e">timestamp</span>, <span style="color:#a6e22e">ok</span> = <span style="color:#a6e22e">matchedLayout</span>(<span style="color:#a6e22e">moreLayouts</span>, <span style="color:#a6e22e">timestr</span>)
		<span style="color:#66d9ef">if</span> !<span style="color:#a6e22e">ok</span> {
			<span style="color:#66d9ef">return</span> <span style="color:#a6e22e">errors</span>.<span style="color:#a6e22e">New</span>(<span style="color:#e6db74">&#34;no matched time layout found&#34;</span>)
		}
	}

	<span style="color:#75715e">// prepend unix timestamp
</span><span style="color:#75715e"></span>	<span style="color:#a6e22e">secs</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Sprintf</span>(<span style="color:#e6db74">&#34;%d&#34;</span>, <span style="color:#a6e22e">timestamp</span>.<span style="color:#a6e22e">Unix</span>())
	<span style="color:#a6e22e">workflow</span>.<span style="color:#a6e22e">NewItem</span>(<span style="color:#a6e22e">secs</span>).
		<span style="color:#a6e22e">Subtitle</span>(<span style="color:#e6db74">&#34;unix timestamp&#34;</span>).
		<span style="color:#a6e22e">Icon</span>(<span style="color:#a6e22e">icon</span>).
		<span style="color:#a6e22e">Arg</span>(<span style="color:#a6e22e">secs</span>).
		<span style="color:#a6e22e">Valid</span>(<span style="color:#66d9ef">true</span>)

	<span style="color:#75715e">// other time layouts
</span><span style="color:#75715e"></span>	<span style="color:#66d9ef">for</span> <span style="color:#a6e22e">_</span>, <span style="color:#a6e22e">layout</span> <span style="color:#f92672">:=</span> <span style="color:#66d9ef">range</span> <span style="color:#a6e22e">layouts</span> {
		<span style="color:#66d9ef">if</span> <span style="color:#a6e22e">layout</span> <span style="color:#f92672">==</span> <span style="color:#a6e22e">layoutMatch</span> {
			<span style="color:#66d9ef">continue</span>
		}
		<span style="color:#a6e22e">v</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">timestamp</span>.<span style="color:#a6e22e">Format</span>(<span style="color:#a6e22e">layout</span>)
		<span style="color:#a6e22e">workflow</span>.<span style="color:#a6e22e">NewItem</span>(<span style="color:#a6e22e">v</span>).
			<span style="color:#a6e22e">Subtitle</span>(<span style="color:#a6e22e">layout</span>).
			<span style="color:#a6e22e">Icon</span>(<span style="color:#a6e22e">icon</span>).
			<span style="color:#a6e22e">Arg</span>(<span style="color:#a6e22e">v</span>).
			<span style="color:#a6e22e">Valid</span>(<span style="color:#66d9ef">true</span>)
	}

	<span style="color:#66d9ef">return</span> <span style="color:#66d9ef">nil</span>
}

<span style="color:#66d9ef">func</span> <span style="color:#a6e22e">matchedLayout</span>(<span style="color:#a6e22e">layouts</span> []<span style="color:#66d9ef">string</span>, <span style="color:#a6e22e">timestr</span> <span style="color:#66d9ef">string</span>) (<span style="color:#a6e22e">matched</span> <span style="color:#66d9ef">string</span>, <span style="color:#a6e22e">timestamp</span> <span style="color:#a6e22e">time</span>.<span style="color:#a6e22e">Time</span>, <span style="color:#a6e22e">ok</span> <span style="color:#66d9ef">bool</span>) {

	<span style="color:#66d9ef">for</span> <span style="color:#a6e22e">_</span>, <span style="color:#a6e22e">layout</span> <span style="color:#f92672">:=</span> <span style="color:#66d9ef">range</span> <span style="color:#a6e22e">layouts</span> {
		<span style="color:#a6e22e">v</span>, <span style="color:#a6e22e">err</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">time</span>.<span style="color:#a6e22e">Parse</span>(<span style="color:#a6e22e">layout</span>, <span style="color:#a6e22e">timestr</span>)
		<span style="color:#66d9ef">if</span> <span style="color:#a6e22e">err</span> <span style="color:#f92672">==</span> <span style="color:#66d9ef">nil</span> {
			<span style="color:#66d9ef">return</span> <span style="color:#a6e22e">layout</span>, <span style="color:#a6e22e">v</span>, <span style="color:#66d9ef">true</span>
		}
	}
	<span style="color:#66d9ef">return</span>
}
</code></pre></div>
<h2 id="å¯¼å‡ºalfredworkflow" class="anchor-link"><a href="#%e5%af%bc%e5%87%baalfredworkflow">å¯¼å‡ºalfred.workflow</a></h2>
<p>å¼€å‘ã€æµ‹è¯•ã€éªŒè¯ï¼Œä¸€åˆ‡okä¹‹åï¼Œå°±å¯ä»¥åœ¨alfredå†…éƒ¨å°†workflowæ•´ä¸ªå¯¼å‡ºäº†ï¼Œå¯¼å‡ºåçš„æ–‡ä»¶ä»¥*.alfredworkflowä½œä¸ºæ‰©å±•åï¼Œè¿™ä¸ªæ–‡ä»¶æ˜¯å¯ä»¥æ‹¿æ¥åˆ†å‘çš„æ–‡ä»¶ï¼Œä½¿ç”¨è€…ç›´æ¥åŒå‡»å°±å¯ä»¥å®‰è£…ä½¿ç”¨ã€‚</p>

<h1 id="awgoè¯•ç”¨å°ç»“" class="anchor-link"><a href="#awgo%e8%af%95%e7%94%a8%e5%b0%8f%e7%bb%93">awgoè¯•ç”¨å°ç»“</a></h1>
<p>è¿™æ˜¯ä½¿ç”¨awgoç¼–å†™çš„ç¬¬ä¸€ä¸ªworkflowç¨‹åºï¼Œæ•´ä½“æ„Ÿè§‰æ¥è¯´ï¼Œå¼€å‘è€…å¯ä»¥ä¸“æ³¨äºåŠŸèƒ½çš„å®ç°ï¼Œä¸ç”¨è¿‡åº¦å…³æ³¨alfredæ•°æ®æ ¼å¼æ–¹é¢çš„é—®é¢˜ã€‚</p>
<p>alfredæœ¬èº«å¾ˆå¼ºå¤§ï¼Œæ”¯æŒå„ç§å„æ ·çš„workflowç®—å­ï¼Œawgoåˆ°åº•èƒ½æ”¯æŒåˆ°ä»€ä¹ˆç¨‹åº¦ï¼Œè¿™ä¸ªè¿˜è¦åœ¨åç»­ä½¿ç”¨ä¸­é€æ¸æ¢ç´¢ã€‚</p>
<p>æ„Ÿå…´è¶£çš„è¯ï¼Œä¸å¦¨ä¸€è¯•ï¼Œè‡³å°‘æ¯”å†™apple scriptè„šæœ¬ã€bashè„šæœ¬ç­‰è¦æ–¹ä¾¿å¤šäº†ã€‚</p>

        </div>
        

        
        <hr>
        <div style="float:right;">
        


<div style="display:flex;">
    <div>åˆ†äº«ï¼š</div>
    <div>
        <div class="sharethis-inline-share-buttons"></div>
    </div>
</div>


        </div>

        <br>
        <br>

    </div>

    
    
    <br>
    <br>
    <div style="height:auto;align:center;text-align:center;"> 
        <div>
            <img src="/common/xiaoqi.png" style="height:238px;margin-top:10px;margin-right:5px;"/>
            <img src="/common/qrcode.jpg" style="height:238px;margin-top:10px;"/>
            <img src="/common/yuanbao.png" style="height:238px;margin-top:10px;margin-left:5px;"/>
        </div>

        <div>
            <p>
                æ„Ÿè°¢æ‰“èµï¼Œå°ä¸ƒğŸ¶ã€å…ƒå®ğŸ±å¯ä»¥æ”¹å–„ä¼™é£Ÿå’¯ ğŸ˜˜
            </p>
        </div>


    </div>
    

    </br>
    </br>
    
    <div class="container disqus">
        <div id="disqus_thread"></div>
<script type="application/javascript">
    var disqus_config = function () {
    
    
    
    };
    (function() {
        if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
            document.getElementById('disqus_thread').innerHTML = 'Disqus comments not available by default when the website is previewed locally.';
            return;
        }
        var d = document, s = d.createElement('script'); s.async = true;
        s.src = '//' + "https-www-hitzhangjie-pro" + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
    </div>



                
                <div class="container">
    <hr>
</div>
<div class="container has-text-centered top-pad">
    <a href="#top">
        <i class="fa fa-arrow-up"></i>
    </a>
</div>

<div class="container">
    <hr>
</div>

                <div class="section" id="footer">
    <div class="container has-text-centered">
    
        <span class="footer-text">
            <a href="https://github.com/victoriadrake/hugo-theme-introduction/"><strong>Introduction</strong></a> ä¸»é¢˜ä¸º <a href="http://gohugo.io/">Hugo</a> è€Œè®¾ã€‚ç”±å¼€æºç¤¾ç¾¤è´¡çŒ®è€…ä»¥ <a href="https://victoria.dev"><i class="fa fa-heart"></i> å’Œ <i class="fa fa-coffee"></i></a> åˆ›é€ ã€‚
        </span>
    
    </div>
</div>

                
            </div>
        </section>
        
        


<script src="https://www.hitzhangjie.pro/js/bundle.2ee571453a8980175e10bda96bda797cc9c4e2e745e488df68d50cef5deb57ff.js" integrity="sha256-LuVxRTqJgBdeEL2pa9p5fMnE4udF5IjfaNUM713rV/8="></script>





<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
	ga('create', 'UA-168027530-1', 'auto');
	
	ga('send', 'pageview');
}
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>








        
        
        
        
    </body>
</html>
